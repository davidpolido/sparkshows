{"version":3,"file":"transmute.js","sources":["../../src/transmute.ts"],"sourcesContent":["import { TidyFn } from './types';\nimport { mutate, MutateSpec, ResolvedObj } from './mutate';\nimport { select } from './select';\nimport { A } from 'ts-toolbelt';\n\n/**\n * Transmutes items\n * @param mutateSpec\n */\nexport function transmute<T extends object, MSpec extends MutateSpec<T>>(\n  mutateSpec: MSpec\n): TidyFn<T, A.Compute<ResolvedObj<MSpec>>> {\n  const _transmute: TidyFn<T, A.Compute<ResolvedObj<MSpec>>> = (items: T[]) => {\n    const mutated = mutate<T, MSpec>(mutateSpec)(items);\n    const picked = select(Object.keys(mutateSpec) as string[])(mutated);\n    return picked as A.Compute<ResolvedObj<MSpec>>[];\n  };\n\n  return _transmute;\n}\n"],"names":[],"mappings":";;;mBAUE;AAEA,QAAM,aAAuD,CAAC;AAC5D,UAAM,UAAU,OAAiB,YAAY;AAC7C,UAAM,SAAS,OAAO,OAAO,KAAK,aAAyB;AAC3D,WAAO;AAAA;AAGT,SAAO;AAAA;;;;"}