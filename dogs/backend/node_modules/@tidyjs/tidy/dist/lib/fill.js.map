{"version":3,"file":"fill.js","sources":["../../src/fill.ts"],"sourcesContent":["import { SingleOrArray, singleOrArray } from './helpers/singleOrArray';\nimport { Key, TidyFn } from './types';\n\n/**\n * Fills values for the specified keys to match the last seen value in the collection.\n */\nexport function fill<T extends object>(keys: SingleOrArray<Key>): TidyFn<T> {\n  const _fill: TidyFn<T> = (items: T[]): T[] => {\n    const keysArray = singleOrArray(keys);\n\n    const replaceMap: Partial<T> = {};\n\n    return items.map((d) => {\n      const obj = { ...d };\n      for (const key of keysArray) {\n        if (obj[key as keyof T] != null) {\n          replaceMap[key as keyof T] = obj[key as keyof T];\n        } else if (replaceMap[key as keyof T] != null) {\n          obj[key as keyof T] = replaceMap[key as keyof T] as any;\n        }\n      }\n      return obj;\n    });\n  };\n\n  return _fill;\n}\n"],"names":["singleOrArray"],"mappings":";;;;;;cAMuC;AACrC,QAAM,QAAmB,CAAC;AACxB,UAAM,YAAYA,4BAAc;AAEhC,UAAM,aAAyB;AAE/B,WAAO,MAAM,IAAI,CAAC;AAChB,YAAM,MAAM,IAAK;AACjB,iBAAW,OAAO;AAChB,YAAI,IAAI,QAAmB;AACzB,qBAAW,OAAkB,IAAI;AAAA,mBACxB,WAAW,QAAmB;AACvC,cAAI,OAAkB,WAAW;AAAA;AAAA;AAGrC,aAAO;AAAA;AAAA;AAIX,SAAO;AAAA;;;;"}