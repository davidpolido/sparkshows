'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var innerJoin = require('./innerJoin.js');

function leftJoin(itemsToJoin, options) {
  const _leftJoin = (items) => {
    const byMap = (options == null ? void 0 : options.by) == null ? innerJoin.autodetectByMap(items, itemsToJoin) : innerJoin.makeByMap(options.by);
    const joined = items.flatMap((d) => {
      const matches = itemsToJoin.filter((j) => innerJoin.isMatch(d, j, byMap));
      return matches.length ? matches.map((j) => ({...d, ...j})) : d;
    });
    return joined;
  };
  return _leftJoin;
}

exports.leftJoin = leftJoin;
//# sourceMappingURL=leftJoin.js.map
