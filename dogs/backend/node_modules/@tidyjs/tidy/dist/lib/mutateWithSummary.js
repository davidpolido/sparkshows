'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function mutateWithSummary(mutateSpec) {
  const _mutate = (items) => {
    const mutatedItems = items.map((d) => ({...d}));
    for (const key in mutateSpec) {
      const mutateSpecValue = mutateSpec[key];
      const mutatedResult = typeof mutateSpecValue === "function" ? mutateSpecValue(mutatedItems) : mutateSpecValue;
      const mutatedVector = (mutatedResult == null ? void 0 : mutatedResult[Symbol.iterator]) && typeof mutatedResult !== "string" ? mutatedResult : items.map(() => mutatedResult);
      let i = -1;
      for (const mutatedItem of mutatedItems) {
        mutatedItem[key] = mutatedVector[++i];
      }
    }
    return mutatedItems;
  };
  return _mutate;
}

exports.mutateWithSummary = mutateWithSummary;
//# sourceMappingURL=mutateWithSummary.js.map
